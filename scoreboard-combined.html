<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indoor Cricket Scoreboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1a1a1a;
            color: white;
            margin: 0;
            padding: 0;
        }
        .scoreboard {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .teams-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
        }
        .team {
            flex: 1;
            text-align: center;
            padding: 1rem;
            background: #2a2a2a;
            border-radius: 10px;
            margin: 0 1rem;
        }
        .team-name {
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        .score {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        .overs {
            font-size: 1.5rem;
            color: #888;
        }
        .partnerships-container {
            margin-top: 2rem;
        }
        .partnerships-section {
            margin-bottom: 2rem;
        }
        .partnerships-section h4 {
            color: #fff;
            margin-bottom: 1rem;
            text-align: center;
        }
        .partnerships-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }
        .partnership-box {
            background: #2a2a2a;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 1px solid #444;
        }
        
        .winning-partnership {
            border: 2px solid #28a745;
            box-shadow: 0 0 10px rgba(40, 167, 69, 0.3);
        }
        
        .partnership-header {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: #fff;
        }
        .partnership-content {
            color: #ddd;
        }
        .partnership-item {
            margin-bottom: 0.5rem;
        }
        .partnership-runs {
            font-size: 1.5rem;
            font-weight: bold;
            color: #fff;
        }
        .partnership-batsmen {
            margin-top: 0.5rem;
        }
        .batsman {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.25rem;
        }
        .batsman-name {
            color: #fff;
        }
        .batsman-score {
            color: #888;
        }
        .current-players {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding: 1rem;
            background: #2a2a2a;
            border-radius: 10px;
        }
        .player {
            text-align: center;
        }
        .player-label {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 0.5rem;
        }
        .player-name {
            font-size: 1.2rem;
            color: #fff;
        }
        .player-score {
            font-size: 1rem;
            color: #888;
        }
        .extras {
            text-align: center;
            margin-top: 1rem;
            padding: 0.5rem;
            background: #2a2a2a;
            border-radius: 5px;
        }
        .extras-label {
            color: #888;
            margin-bottom: 0.5rem;
        }
        .extras-value {
            font-size: 1.2rem;
            color: #fff;
        }
        .first-innings-label {
            font-size: 0.8rem;
            color: #888;
            margin-top: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="scoreboard">
        <div class="header">
            <h1>Indoor Cricket Scoreboard</h1>
        </div>

        <div class="teams-container">
            <div class="team">
                <div class="team-name" id="battingTeam">Team A</div>
                <div class="score" id="score">0/0</div>
                <div class="overs" id="overs">0.0/16.0</div>
            </div>
            <div class="team">
                <div class="team-name" id="fieldingTeam">Team B</div>
                <div class="score" id="firstInningsScore"></div>
            </div>
        </div>

        <div class="current-players">
            <div class="player">
                <div class="player-label">Striker</div>
                <div class="player-name" id="strikerName">Select Striker</div>
                <div class="player-score" id="strikerScore">0 (0)</div>
            </div>
            <div class="player">
                <div class="player-label">Non-Striker</div>
                <div class="player-name" id="nonStrikerName">Select Non-Striker</div>
                <div class="player-score" id="nonStrikerScore">0 (0)</div>
            </div>
            <div class="player">
                <div class="player-label">Bowler</div>
                <div class="player-name" id="bowlerName">Select Bowler</div>
                <div class="player-score" id="bowlerStats">0/0</div>
            </div>
        </div>

        <div class="extras">
            <div class="extras-label">Extras</div>
            <div class="extras-value" id="extras">Wides: 0, No Balls: 0, Leg Side Wides: 0</div>
        </div>

        <div class="partnerships-container" id="partnershipsContainer">
            <!-- Partnerships will be dynamically added here -->
        </div>
    </div>

    <script>
        // Function to update the scoreboard display
        function updateDisplay() {
            const gameState = JSON.parse(localStorage.getItem('indoorCricketGame'));
            if (!gameState) return;

            // Update team names and scores
            document.getElementById('battingTeam').textContent = gameState.battingTeam;
            document.getElementById('fieldingTeam').textContent = gameState.fieldingTeam;
            document.getElementById('score').textContent = `${gameState.currentScore}/${gameState.wickets}`;
            document.getElementById('overs').textContent = `${gameState.currentOver.toFixed(1)}/${gameState.totalOvers}`;

            // Update first innings score if available
            if (gameState.firstInnings && gameState.firstInnings.score > 0) {
                document.getElementById('firstInningsScore').textContent = 
                    `${gameState.firstInnings.score}/${gameState.firstInnings.wickets}`;
            }

            // Update current players
            document.getElementById('strikerName').textContent = gameState.currentBatsmen.striker.name || 'Select Striker';
            document.getElementById('strikerScore').textContent = 
                `${gameState.currentBatsmen.striker.score} (${gameState.currentBatsmen.striker.balls})`;
            
            document.getElementById('nonStrikerName').textContent = gameState.currentBatsmen.nonStriker.name || 'Select Non-Striker';
            document.getElementById('nonStrikerScore').textContent = 
                `${gameState.currentBatsmen.nonStriker.score} (${gameState.currentBatsmen.nonStriker.balls})`;
            
            document.getElementById('bowlerName').textContent = gameState.currentBowler.name || 'Select Bowler';
            document.getElementById('bowlerStats').textContent = 
                `${gameState.currentBowler.wickets}/${gameState.currentBowler.runs}`;

            // Update extras
            document.getElementById('extras').textContent = 
                `Wides: ${gameState.extras.wides}, No Balls: ${gameState.extras.noBalls}, Leg Side Wides: ${gameState.extras.legsideWides}`;

            // Update partnerships
            updatePartnershipsDisplay(gameState);
        }

        // Function to update partnerships display
        function updatePartnershipsDisplay(gameState) {
            const partnershipsContainer = document.getElementById('partnershipsContainer');
            partnershipsContainer.innerHTML = '';

            // Show first innings partnerships if they exist
            if (gameState.firstInnings && gameState.firstInnings.partnerships.length > 0) {
                const firstInningsSection = document.createElement('div');
                firstInningsSection.className = 'partnerships-section';
                firstInningsSection.innerHTML = `
                    <h4>${gameState.fieldingTeam} (First Innings)</h4>
                    <div class="partnerships-list">
                        ${gameState.firstInnings.partnerships.map((partnership, index) => {
                            // Check if this partnership won
                            const currentInningsPartnership = gameState.partnerships[index];
                            const isWinner = !currentInningsPartnership || partnership.runs > currentInningsPartnership.runs;
                            
                            return `
                                <div class="partnership-box ${isWinner ? 'winning-partnership' : ''}">
                                    <div class="partnership-header">Partnership ${index + 1}</div>
                                    <div class="partnership-content">
                                        <div class="partnership-item">
                                            <div class="partnership-runs">${partnership.runs} runs</div>
                                            <div class="partnership-batsmen">
                                                ${partnership.batsmen ? partnership.batsmen.map(b => `
                                                    <div class="batsman">
                                                        <span class="batsman-name">${b.name}</span>
                                                        <span class="batsman-score">${b.score} (${b.balls})</span>
                                                    </div>
                                                `).join('') : ''}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
                partnershipsContainer.appendChild(firstInningsSection);
            }

            // Show current innings partnerships
            if (gameState.partnerships && gameState.partnerships.length > 0) {
                const currentInningsSection = document.createElement('div');
                currentInningsSection.className = 'partnerships-section';
                currentInningsSection.innerHTML = `
                    <h4>${gameState.battingTeam} (Current Innings)</h4>
                    <div class="partnerships-list">
                        ${gameState.partnerships.map((partnership, index) => {
                            // Check if this partnership won
                            const firstInningsPartnership = gameState.firstInnings.partnerships[index];
                            const isWinner = !firstInningsPartnership || partnership.runs > firstInningsPartnership.runs;
                            
                            return `
                                <div class="partnership-box ${isWinner ? 'winning-partnership' : ''}">
                                    <div class="partnership-header">Partnership ${index + 1}</div>
                                    <div class="partnership-content">
                                        <div class="partnership-item">
                                            <div class="partnership-runs">${partnership.runs} runs</div>
                                            <div class="partnership-batsmen">
                                                ${partnership.batsmen ? partnership.batsmen.map(b => `
                                                    <div class="batsman">
                                                        <span class="batsman-name">${b.name}</span>
                                                        <span class="batsman-score">${b.score} (${b.balls})</span>
                                                    </div>
                                                `).join('') : ''}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
                partnershipsContainer.appendChild(currentInningsSection);
            }
        }

        // Update display every second
        setInterval(updateDisplay, 1000);

        // Initial update
        updateDisplay();
    </script>
</body>
</html>
