<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indoor Cricket Scoreboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1a1a1a;
            color: white;
            margin: 0;
            padding: 0;
        }
        .scoreboard {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .innings-section {
            margin-bottom: 3rem;
        }
        .team-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding: 0.5rem;
            background: #2a2a2a;
            border-radius: 10px;
        }
        .team-name {
            font-size: 2rem;
            font-weight: bold;
        }
        .team-score {
            font-size: 2.5rem;
            font-weight: bold;
        }
        .partnerships-list {
            display: flex;
            justify-content: flex-start;
            gap: 1rem;
            margin-top: 1rem;
            overflow-x: auto;
            padding: 1rem 0;
        }
        .partnership-box {
            min-width: 200px;
            background: #2a2a2a;
            border-radius: 8px;
            padding: 1rem;
            border: 1px solid #444;
        }
        .winning-partnership {
            border: 2px solid #28a745;
            box-shadow: 0 0 10px rgba(40, 167, 69, 0.3);
        }
        .partnership-header {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #fff;
        }
        .partnership-content {
            color: #ddd;
        }
        .partnership-runs {
            font-size: 1.5rem;
            font-weight: bold;
            color: #fff;
        }
        .partnership-batsmen {
            margin-top: 0.5rem;
        }
        .batsman {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.25rem;
        }
        .batsman-name {
            color: #fff;
        }
        .batsman-score {
            color: #888;
        }
        .bottom-info {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #2a2a2a;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid #444;
        }
        .timer-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .timer {
            font-size: 2rem;
            font-weight: bold;
        }
        .overs {
            font-size: 1.5rem;
            color: #888;
        }
        .current-players {
            display: flex;
            gap: 2rem;
        }
        .player {
            text-align: center;
        }
        .player-label {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 0.25rem;
        }
        .player-name {
            font-size: 1.2rem;
            color: #fff;
        }
        .player-score {
            font-size: 1rem;
            color: #888;
        }
        .bowler-figures {
            text-align: right;
            padding-right: 1rem;
        }
        .current-bowler {
            font-weight: bold;
            margin-bottom: 0.25rem;
        }
        .bowler-stats {
            color: #ccc;
        }
    </style>
</head>
<body>
    <div class="scoreboard">
        <div class="header">
            <h1>Indoor Cricket Scoreboard</h1>
        </div>

        <!-- First Innings Section -->
        <div class="innings-section">
            <div class="team-header">
                <div class="team-name" id="battingTeam">Team A</div>
                <div class="team-score" id="score">0</div>
            </div>
            <div class="partnerships-list" id="battingPartnerships">
                <!-- Partnerships will be dynamically added here -->
            </div>
        </div>

        <!-- Second Innings Section -->
        <div class="innings-section">
            <div class="team-header">
                <div class="team-name" id="fieldingTeam">Team B</div>
                <div class="team-score" id="firstInningsScore">0</div>
            </div>
            <div class="partnerships-list" id="fieldingPartnerships">
                <!-- Partnerships will be dynamically added here -->
            </div>
        </div>

        <!-- Bottom Info Bar -->
        <div class="bottom-info">
            <div class="timer-section">
                <div class="timer" id="matchTimer">00:00</div>
                <div class="overs" id="overs">0.0/16.0</div>
            </div>
            <div class="current-players">
                <div class="player">
                    <div class="player-label">Striker</div>
                    <div class="player-name" id="strikerName">Select Striker</div>
                    <div class="player-score" id="strikerScore">0 (0)</div>
                </div>
                <div class="player">
                    <div class="player-label">Non-Striker</div>
                    <div class="player-name" id="nonStrikerName">Select Non-Striker</div>
                    <div class="player-score" id="nonStrikerScore">0 (0)</div>
                </div>
                <div class="player">
                    <div class="player-label">Bowler</div>
                    <div class="player-name" id="bowlerName">Select Bowler</div>
                    <div class="player-score" id="bowlerStats">0/0</div>
                </div>
            </div>
            <div class="bowler-figures">
                <div class="current-bowler">Current Bowler: <span id="currentBowlerName">-</span></div>
                <div class="bowler-stats">Overs: <span id="bowlerOvers">0.0</span> | Wickets: <span id="bowlerWickets">0</span> | Runs: <span id="bowlerRuns">0</span></div>
            </div>
        </div>
    </div>

    <script>
        // Function to update the scoreboard display
        function updateDisplay() {
            const gameState = JSON.parse(localStorage.getItem('indoorCricketGame'));
            if (!gameState) return;

            // Update team names and scores
            document.getElementById('battingTeam').textContent = gameState.battingTeam;
            document.getElementById('fieldingTeam').textContent = gameState.fieldingTeam;
            document.getElementById('score').textContent = gameState.currentScore;
            document.getElementById('overs').textContent = `${gameState.currentOver.toFixed(1)}/${gameState.totalOvers}`;

            // Update first innings score if available
            if (gameState.firstInnings && gameState.firstInnings.score > 0) {
                document.getElementById('firstInningsScore').textContent = gameState.firstInnings.score;
            }

            // Update current players
            document.getElementById('strikerName').textContent = gameState.currentBatsmen.striker.name || 'Select Striker';
            document.getElementById('strikerScore').textContent = 
                `${gameState.currentBatsmen.striker.score} (${gameState.currentBatsmen.striker.balls})`;
            
            document.getElementById('nonStrikerName').textContent = gameState.currentBatsmen.nonStriker.name || 'Select Non-Striker';
            document.getElementById('nonStrikerScore').textContent = 
                `${gameState.currentBatsmen.nonStriker.score} (${gameState.currentBatsmen.nonStriker.balls})`;
            
            document.getElementById('bowlerName').textContent = gameState.currentBowler.name || 'Select Bowler';
            document.getElementById('bowlerStats').textContent = 
                `${gameState.currentBowler.wickets}/${gameState.currentBowler.runs}`;

            // Update bowler figures
            document.getElementById('currentBowlerName').textContent = gameState.currentBowler.name || '-';
            document.getElementById('bowlerOvers').textContent = gameState.currentBowler.overs.toFixed(1);
            document.getElementById('bowlerWickets').textContent = gameState.currentBowler.wickets;
            document.getElementById('bowlerRuns').textContent = gameState.currentBowler.runs;

            // Update partnerships
            updatePartnershipsDisplay(gameState);
        }

        // Function to update partnerships display
        function updatePartnershipsDisplay(gameState) {
            const battingPartnerships = document.getElementById('battingPartnerships');
            const fieldingPartnerships = document.getElementById('fieldingPartnerships');
            
            // Clear existing partnerships
            battingPartnerships.innerHTML = '';
            fieldingPartnerships.innerHTML = '';

            // Show first innings partnerships if they exist
            if (gameState.firstInnings && gameState.firstInnings.partnerships.length > 0) {
                gameState.firstInnings.partnerships.forEach((partnership, index) => {
                    const currentInningsPartnership = gameState.partnerships[index];
                    const isWinner = !currentInningsPartnership || partnership.runs > currentInningsPartnership.runs;
                    
                    const partnershipBox = document.createElement('div');
                    partnershipBox.className = `partnership-box ${isWinner ? 'winning-partnership' : ''}`;
                    partnershipBox.innerHTML = `
                        <div class="partnership-header">Partnership ${index + 1}</div>
                        <div class="partnership-content">
                            <div class="partnership-item">
                                <div class="partnership-runs">${partnership.runs} runs</div>
                                <div class="partnership-batsmen">
                                    ${partnership.batsmen ? partnership.batsmen.map(b => `
                                        <div class="batsman">
                                            <span class="batsman-name">${b.name}</span>
                                            <span class="batsman-score">${b.score} (${b.balls})</span>
                                        </div>
                                    `).join('') : ''}
                                </div>
                            </div>
                        </div>
                    `;
                    fieldingPartnerships.appendChild(partnershipBox);
                });
            }

            // Show current innings partnerships
            if (gameState.partnerships && gameState.partnerships.length > 0) {
                gameState.partnerships.forEach((partnership, index) => {
                    const firstInningsPartnership = gameState.firstInnings.partnerships[index];
                    const isWinner = !firstInningsPartnership || partnership.runs > firstInningsPartnership.runs;
                    
                    const partnershipBox = document.createElement('div');
                    partnershipBox.className = `partnership-box ${isWinner ? 'winning-partnership' : ''}`;
                    partnershipBox.innerHTML = `
                        <div class="partnership-header">Partnership ${index + 1}</div>
                        <div class="partnership-content">
                            <div class="partnership-item">
                                <div class="partnership-runs">${partnership.runs} runs</div>
                                <div class="partnership-batsmen">
                                    ${partnership.batsmen ? partnership.batsmen.map(b => `
                                        <div class="batsman">
                                            <span class="batsman-name">${b.name}</span>
                                            <span class="batsman-score">${b.score} (${b.balls})</span>
                                        </div>
                                    `).join('') : ''}
                                </div>
                            </div>
                        </div>
                    `;
                    battingPartnerships.appendChild(partnershipBox);
                });
            }
        }

        // Update display every second
        setInterval(updateDisplay, 1000);

        // Initial update
        updateDisplay();
    </script>
</body>
</html>
