<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Scoreboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #000;
            color: #fff;
            margin: 0;
            padding: 20px;
        }
        .scoreboard {
            max-width: 1200px;
            margin: auto;
            background: #1a1a1a;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: #003366;
            border-radius: 8px;
        }
        .teams {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 24px;
            color: #FFD700;
        }
        .current-score {
            text-align: center;
            font-size: 48px;
            margin: 20px 0;
            color: #00CCFF;
            text-shadow: 0 0 10px rgba(0, 204, 255, 0.5);
        }
        .overs {
            text-align: center;
            font-size: 36px;
            color: #FFD700;
            margin: 10px 0;
        }
        .batting-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .batsman {
            background: #2a2a2a;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #FFD700;
        }
        .batsman.on-strike {
            border-color: #00CCFF;
            box-shadow: 0 0 10px rgba(0, 204, 255, 0.3);
        }
        .batsman-name {
            font-size: 24px;
            color: #FFD700;
            margin-bottom: 10px;
        }
        .batsman-stats {
            font-size: 20px;
            color: #fff;
        }
        .partnership {
            text-align: center;
            font-size: 20px;
            color: #FFD700;
            margin: 10px 0;
        }
        .current-bowler {
            text-align: center;
            font-size: 24px;
            color: #00CCFF;
            margin: 20px 0;
            padding: 10px;
            background: #2a2a2a;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="scoreboard">
        <div class="header">
            <h1>Indoor Cricket Scoreboard</h1>
        </div>
        
        <div class="teams">
            <div id="teamA">Team A</div>
            <div id="teamB">Team B</div>
        </div>

        <div class="current-score" id="currentScore">0/0</div>
        <div class="overs" id="overs">Overs: 0.0</div>

        <div class="batting-details">
            <div class="batsman" id="batsman1">
                <div class="batsman-name" id="batsman1Name">Batsman 1</div>
                <div class="batsman-stats" id="batsman1Stats">0 (0)</div>
            </div>
            <div class="batsman" id="batsman2">
                <div class="batsman-name" id="batsman2Name">Batsman 2</div>
                <div class="batsman-stats" id="batsman2Stats">0 (0)</div>
            </div>
        </div>

        <div class="partnership" id="partnership">Partnership 1</div>
        <div class="current-bowler" id="currentBowler">Current Bowler: </div>
    </div>

    <script>
        function updateDisplay() {
            try {
                if (isLocalStorageAvailable()) {
                    const matchData = JSON.parse(localStorage.getItem("matchData"));
                    const teamA = localStorage.getItem("teamA");
                    const teamB = localStorage.getItem("teamB");
                    const batsman1 = localStorage.getItem("batsman1");
                    const batsman2 = localStorage.getItem("batsman2");
                    const bowler = localStorage.getItem("bowler");

                    document.getElementById("teamA").textContent = teamA;
                    document.getElementById("teamB").textContent = teamB;
                    document.getElementById("currentScore").textContent = 
                        `${matchData.totalScore}/${matchData.wickets}`;
                    document.getElementById("overs").textContent = 
                        `Overs: ${matchData.overs}.${matchData.balls}`;
                    
                    document.getElementById("batsman1Name").textContent = batsman1;
                    document.getElementById("batsman1Stats").textContent = 
                        `${matchData.batsman1Score} (${matchData.batsman1Balls})`;
                    document.getElementById("batsman2Name").textContent = batsman2;
                    document.getElementById("batsman2Stats").textContent = 
                        `${matchData.batsman2Score} (${matchData.batsman2Balls})`;
                    
                    document.getElementById("partnership").textContent = 
                        `Partnership ${matchData.partnershipNumber}`;
                    document.getElementById("currentBowler").textContent = 
                        `Current Bowler: ${bowler}`;

                    // Update strike indicator
                    document.getElementById("batsman1").classList.toggle("on-strike", 
                        matchData.onStrike === 'batsman1');
                    document.getElementById("batsman2").classList.toggle("on-strike", 
                        matchData.onStrike === 'batsman2');
                }
            } catch (error) {
                console.error('Error updating display:', error);
            }
        }

        function isLocalStorageAvailable() {
            try {
                localStorage.setItem('test', 'test');
                localStorage.removeItem('test');
                return true;
            } catch(e) {
                return false;
            }
        }

        // Update display when storage changes
        window.addEventListener('storage', updateDisplay);
        
        // Initial update
        updateDisplay();
        
        // Update every second
        setInterval(updateDisplay, 1000);
    </script>
</body>
</html>
